<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <th:block th:include="~{fragments/head}"></th:block>
    <script src="https://code.jquery.com/jquery-1.10.2.js"></script>
</head>
<body>
<div class="container-fluid">
    <header>
        <th:block th:include="~{fragments/navbar}"></th:block>
    </header>
    <main>
        <h2 class="container col-sm-8 mb-5" xmlns:th="http://www.thymeleaf.org">
            <!--<div class="row d-flex justify-content-between">-->
            <div class="form-check form-check-inline">
                <label class="label large">Your Choise</label>
            </div>
            <div class="form-check form-check-inline">
                <input class="form-check-input small" type="radio" name="inlineRadioOptions" id="virusesRadio"
                       value="option1">
                <label class="form-check-label" for="virusesRadio">Viruses</label>
            </div>
            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="inlineRadioOptions" id="capitalsRadio"
                       value="option2">
                <label class="form-check-label" for="capitalsRadio">Capitals</label>
            </div>
        </h2>
        <hr class="mt-4 mb-4"/>
        <div  class="container">
            <table id="table" class="table">
            </table>
        </div>
        <!--<table class="table">-->
        <!--<thead>-->
        <!--<tr class="text-center">-->
        <!--<th scope="col">#</th>-->
        <!--<th scope="col">Name</th>-->
        <!--<th scope="col">Magnitude</th>-->
        <!--<th scope="col">Released On</th>-->
        <!--<th scope="col">Actions</th>-->
        <!--</tr>-->
        <!--</thead>-->
        <!--<tbody>-->
        <!--<th:block th:each="virus : ${allViruses}" th:object="${virus}">-->
        <!--<tr class="text-center">-->
        <!--<th scope="row" th:text="*{id}"></th>-->
        <!--<td th:text="*{name}"></td>-->
        <!--<td th:text="*{magnitude}"></td>-->
        <!--<td th:text="*{#temporals.format(releasedOn, 'dd-MMM-yyyy')}"></td>-->
        <!--<td class="d-flex justify-content-between">-->
        <!--<a class="btn btn-outline-secondary" th:href="@{/viruses/edit(id=${virus.id})}"-->
        <!--th:text="Edit"></a>-->
        <!--<a class="btn btn-outline-secondary" th:href="@{/viruses/delete(id=${virus.id})}"-->
        <!--th:text="Delete"></a>-->
        <!--</td>-->
        <!--</tr>-->
        <!--</th:block>-->
        <!--</tbody>-->
        <!--</table>-->
        <script>
            $(document).ready(function () {
                $('#virusesRadio').click(function () {
                    if ($('#virusesRadio').is(':checked')) {
                        // VIRUS CASE
                        alert("it's checked");

                        let table = $("#table");

                        let header = $(`<thead><tr class="text-center"><th scope="col">#</th><th scope="col">Name</th><th scope="col">Magnitude</th><th scope="col">Released On</th>"<th scope="col">Actions</th></tr></thead>`
                        );
                        header.appendTo(table);

                        fetch("/viruses/fetch")
                            .then((response) =>{
                                let result = response.json;
                                result.forEach((el) => {
                            alert(el);
                            });
                            });
                    }
                });
            });
        </script>
    </main>
</div>
</body>
</html>